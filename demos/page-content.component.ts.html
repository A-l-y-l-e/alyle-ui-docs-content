<div class="lang-ts ttb"><pre class="ttm"><span class="tt18 tt1j">import</span> <span class="tt18 ttae">&#123;</span> Component<span class="tt18 ttae">,</span> ChangeDetectionStrategy<span class="tt18 ttae">,</span> ViewEncapsulation<span class="tt18 ttae">,</span> ElementRef<span class="tt18 ttae">,</span> ChangeDetectorRef <span class="tt18 ttae">&#125;</span> <span class="tt18 tt1j">from</span> <span class="tt18 tt3z">'@angular/core'</span><span class="tt18 ttae">;</span>
<span class="tt18 tt1j">import</span> <span class="tt18 ttae">&#123;</span> Router<span class="tt18 ttae">,</span> ActivatedRoute <span class="tt18 ttae">&#125;</span> <span class="tt18 tt1j">from</span> <span class="tt18 tt3z">'@angular/router'</span><span class="tt18 ttae">;</span>
<span class="tt18 tt1j">import</span> <span class="tt18 ttae">&#123;</span> LyTheme2 <span class="tt18 ttae">&#125;</span> <span class="tt18 tt1j">from</span> <span class="tt18 tt3z">'@alyle/ui'</span><span class="tt18 ttae">;</span>

<span class="tt18 tt1j">import</span> <span class="tt18 ttae">&#123;</span> AUIRoutesMap <span class="tt18 ttae">&#125;</span> <span class="tt18 tt1j">from</span> <span class="tt18 tt3z">'../routes'</span><span class="tt18 ttae">;</span>

<span class="tt18 tt1j">const</span> commonConfigVariables <span class="tt18 ttb0">=</span> <span class="tt18 ttae">[</span><span class="tt18 tt3z">'appearance'</span><span class="tt18 ttae">,</span> <span class="tt18 tt3z">'size'</span><span class="tt18 ttae">,</span> <span class="tt18 tt3z">'lyTyp'</span><span class="tt18 ttae">]</span><span class="tt18 ttae">;</span>

@<span class="tt18 tta3">Component</span><span class="tt18 ttae">(</span><span class="tt18 ttae">&#123;</span>
  selector<span class="tt18 ttae">:</span> <span class="tt18 tt3z">'aui-page-content'</span><span class="tt18 ttae">,</span>
  templateUrl<span class="tt18 ttae">:</span> <span class="tt18 tt3z">'./page-content.component.html'</span><span class="tt18 ttae">,</span>
  changeDetection<span class="tt18 ttae">:</span> ChangeDetectionStrategy<span class="tt18 ttae">.</span>OnPush<span class="tt18 ttae">,</span>
  encapsulation<span class="tt18 ttae">:</span> ViewEncapsulation<span class="tt18 ttae">.</span>None
<span class="tt18 ttae">&#125;</span><span class="tt18 ttae">)</span>
<span class="tt18 tt1j">export</span> <span class="tt18 tt1j">class</span> <span class="tt18 ttc8">PageContentComponent</span> <span class="tt18 ttae">&#123;</span>
  pathPkg<span class="tt18 ttae">:</span> <span class="tt18 ttcj">string</span><span class="tt18 ttae">;</span>
  isPkg<span class="tt18 ttae">:</span> <span class="tt18 ttcj">boolean</span><span class="tt18 ttae">;</span>
  opts<span class="tt18 ttae">:</span> <span class="tt18 ttae">&#123;</span>
    name<span class="tt18 ttae">:</span> <span class="tt18 ttcj">string</span>
    items<span class="tt18 ttae">:</span> <span class="tt18 ttcj">string</span><span class="tt18 ttae">[</span><span class="tt18 ttae">]</span>
  <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">[</span><span class="tt18 ttae">]</span><span class="tt18 ttae">;</span>
  <span class="tt18 tt1j">constructor</span><span class="tt18 ttae">(</span>
    <span class="tt18 parameter"><span class="tt18 tt1j">private</span> _theme<span class="tt18 ttae">:</span> LyTheme2<span class="tt18 ttae">,</span>
    <span class="tt18 tt1j">public</span> route<span class="tt18 ttae">:</span> ActivatedRoute<span class="tt18 ttae">,</span>
    <span class="tt18 tt1j">public</span> router<span class="tt18 ttae">:</span> Router<span class="tt18 ttae">,</span>
    <span class="tt18 tt1j">private</span> _el<span class="tt18 ttae">:</span> ElementRef<span class="tt18 ttb0">&lt;</span>HTMLElement<span class="tt18 ttb0">></span><span class="tt18 ttae">,</span>
    <span class="tt18 tt1j">private</span> _cd<span class="tt18 ttae">:</span> ChangeDetectorRef</span>
  <span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span> <span class="tt18 ttae">&#125;</span>

  <span class="tt18 tta3">_getHostElement</span><span class="tt18 ttae">(</span><span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
    <span class="tt18 tt1j">return</span> <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>_el<span class="tt18 ttae">.</span>nativeElement<span class="tt18 ttae">;</span>
  <span class="tt18 ttae">&#125;</span>

  <span class="tt18 tta3">updateRoute</span><span class="tt18 ttae">(</span><span class="tt18 parameter">path<span class="tt18 ttae">:</span> <span class="tt18 ttcj">string</span></span><span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
    <span class="tt18 tt1j">const</span> routeUrlArray <span class="tt18 ttb0">=</span> path<span class="tt18 ttae">.</span><span class="tt18 tta3">split</span><span class="tt18 ttae">(</span><span class="tt18 tt3z">'/'</span><span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
    <span class="tt18 tt1j">const</span> isPkg <span class="tt18 ttb0">=</span> AUIRoutesMap<span class="tt18 ttae">.</span><span class="tt18 tta3">has</span><span class="tt18 ttae">(</span>path<span class="tt18 ttae">)</span> <span class="tt18 ttb0">&amp;&amp;</span> AUIRoutesMap<span class="tt18 ttae">.</span><span class="tt18 tt1j">get</span><span class="tt18 ttae">(</span>path<span class="tt18 ttae">)</span><span class="tt18 ttb0">!</span><span class="tt18 ttae">.</span>api<span class="tt18 ttae">;</span>

    <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>opts <span class="tt18 ttb0">=</span> <span class="tt18 ttae">[</span><span class="tt18 ttae">]</span><span class="tt18 ttae">;</span>
    <span class="tt18 tt1j">if</span> <span class="tt18 ttae">(</span>isPkg<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
      <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>pathPkg <span class="tt18 ttb0">=</span> routeUrlArray<span class="tt18 ttae">[</span><span class="tt18 ttap">2</span><span class="tt18 ttae">]</span><span class="tt18 ttae">;</span>
      <span class="tt18 tt1j">const</span> themePkg <span class="tt18 ttb0">=</span> <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>_theme<span class="tt18 ttae">.</span>variables<span class="tt18 ttae">[</span><span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>pathPkg<span class="tt18 ttae">]</span><span class="tt18 ttae">;</span>
      commonConfigVariables<span class="tt18 ttae">.</span><span class="tt18 tta3">forEach</span><span class="tt18 ttae">(</span><span class="tt18 ttae">(</span><span class="tt18 parameter">nam</span><span class="tt18 ttae">)</span> <span class="tt18 ttb0">=></span> <span class="tt18 ttae">&#123;</span>
        <span class="tt18 tt1j">const</span> opt <span class="tt18 ttb0">=</span> <span class="tt18 ttae">&#123;</span>
          name<span class="tt18 ttae">:</span> nam<span class="tt18 ttae">,</span>
          items<span class="tt18 ttae">:</span> <span class="tt18 ttae">[</span><span class="tt18 ttae">]</span> <span class="tt18 tt1j">as</span> <span class="tt18 ttcj">string</span><span class="tt18 ttae">[</span><span class="tt18 ttae">]</span>
        <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">;</span>

        <span class="tt18 tt1j">if</span> <span class="tt18 ttae">(</span>themePkg <span class="tt18 ttb0">&amp;&amp;</span> themePkg<span class="tt18 ttae">[</span>nam<span class="tt18 ttae">]</span><span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
          opt<span class="tt18 ttae">.</span>items<span class="tt18 ttae">.</span><span class="tt18 tta3">push</span><span class="tt18 ttae">(</span><span class="tt18 ttb0">...</span>Object<span class="tt18 ttae">.</span><span class="tt18 tta3">keys</span><span class="tt18 ttae">(</span>themePkg<span class="tt18 ttae">[</span>nam<span class="tt18 ttae">]</span><span class="tt18 ttae">)</span><span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
        <span class="tt18 ttae">&#125;</span>

        <span class="tt18 tt1j">if</span> <span class="tt18 ttae">(</span>opt<span class="tt18 ttae">.</span>items<span class="tt18 ttae">.</span>length<span class="tt18 ttae">)</span> <span class="tt18 ttae">&#123;</span>
          <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>opts<span class="tt18 ttae">.</span><span class="tt18 tta3">push</span><span class="tt18 ttae">(</span>opt<span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
        <span class="tt18 ttae">&#125;</span>
      <span class="tt18 ttae">&#125;</span><span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
    <span class="tt18 ttae">&#125;</span>
    <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>isPkg <span class="tt18 ttb0">=</span> <span class="tt18 ttb0">!</span><span class="tt18 ttb0">!</span>isPkg<span class="tt18 ttae">;</span>
    <span class="tt18 tt1j">this</span><span class="tt18 ttae">.</span>_cd<span class="tt18 ttae">.</span><span class="tt18 tta3">markForCheck</span><span class="tt18 ttae">(</span><span class="tt18 ttae">)</span><span class="tt18 ttae">;</span>
  <span class="tt18 ttae">&#125;</span>

<span class="tt18 ttae">&#125;</span>
</pre></div>
